import pandas as pd
import numpy as np
import plotly.express as px
import plotly.graph_objects as go
import networkx as nx
from mlxtend.preprocessing import TransactionEncoder
from mlxtend.frequent_patterns import apriori,association_rules
import matplotlib.pyplot as plt
plt.style.use('default')
data = pd.read_csv('/content/drive/MyDrive/Colab Notebooks/Five_Courses_updated.csv') 
data.shape

data.head()

data.describe()

import random
p = 0.005
df = pd.read_csv('/content/drive/MyDrive/Colab Notebooks/Five_Courses_updated.csv', header=0, skiprows=lambda i: i>0 and random.random()>p)
df

df['noc19-ae01']

selection1 = []
for i in range(0, df.shape[0]):
    for j in range(0, df.shape[1]):
        selection1.append(df.values[i,j])
        
selection1 = np.array(selection1)
# 2. Transform Them a Pandas DataFrame
df = pd.DataFrame(selection1, columns=["courses"]) 
df["incident_count"] = 1 # Put 1 to Each Item For Making Countable Table, to be able to perform Group By

# 3. Delete NaN courses from Dataset
indexNames = df[df['courses'] == "nan" ].index
df.drop(indexNames , inplace=True)

# 4. Final Step: Make a New Appropriate Pandas DataFrame for Visualizations  
df_table = df.groupby("courses").sum().sort_values("incident_count", ascending=False).reset_index()

# 5. Initial Visualizations
df_table.head(10).style.background_gradient(cmap='Blues')
